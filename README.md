# Basket Timer

<div align="center">

バスケットボールの試合管理に特化したタイマーアプリ

[![Swift](https://img.shields.io/badge/Swift-5.0-orange.svg)](https://swift.org)
[![Platform](https://img.shields.io/badge/platform-iOS-lightgrey.svg)](https://www.apple.com/ios/)
[![License](https://img.shields.io/badge/license-CC%20BY--NC%204.0-blue.svg)](LICENSE)

</div>

## 概要

Basket Timer は、バスケットボールの試合を円滑に進行するための専門タイマーアプリです。
ゲームクロックとショットクロックの両方を管理でき、ファウルやタイムアウトも記録できます。

## 特徴

### 🏀 主要機能

- **ゲームクロック**

  - MM:SS 形式の見やすい大型ディスプレイ
  - 開始、一時停止、リセット機能
  - 停止中はタップで時間を任意に変更可能

- **ショットクロック**

  - 0.1 秒単位の高精度表示
  - ビジュアル的な円形プログレスバー
  - 3 秒以下で赤色に変化する警告機能
  - 24 秒/14 秒のクイックリセット

- **試合モード対応**

  - ミニバス（6 分クォーター、3 分 OT）
  - 中学生（8 分クォーター、4 分 OT）
  - プロ（10 分クォーター、5 分 OT）

- **ゲーム管理**

  - クォーター別のファウルとタイムアウト記録
  - HOME と AWAY チームの個別管理
  - オーバータイム（OT）の追加も簡単

- **ブザー音**

  - 低レイテンシのブザーサウンド再生
  - タイマー終了時の自動ブザー
  - フローティングボタンで手動再生も可能

- **その他**
  - 画面の自動ロック防止（試合中に消えない）
  - レスポンシブデザイン（様々な画面サイズに対応）
  - 直感的な UI/UX

## スクリーンショット

_（アプリのスクリーンショットをここに追加することをお勧めします）_

## 必要環境

- iOS 15.0 以上
- Xcode 13.0 以上
- Swift 5.0 以上

## インストール

### Xcode でのビルド

1. リポジトリをクローン

```bash
git clone https://github.com/horisan/basket_timer.git
cd basket_timer
```

2. Xcode でプロジェクトを開く

```bash
open "Basket Timer.xcodeproj"
```

3. ターゲットデバイスを選択してビルド（⌘+R）

## 使い方

### 基本操作

1. **試合モードの選択**

   - 画面上部でミニバス、中学生、プロを選択
   - 選択したモードに応じてクォーター時間が自動設定されます

2. **ゲームクロックの操作**

   - 「開始」ボタンでタイマーをスタート
   - 「一時停止」でタイマーを停止
   - 停止中に時間表示をタップすると、任意の時間に変更可能

3. **ショットクロックの操作**

   - 独立して開始/停止が可能
   - 「24 秒」「14 秒」ボタンでクイックリセット
   - 停止中にタップして任意の秒数に変更可能

4. **ファウル・タイムアウトの記録**

   - 各チームの＋/－ボタンで増減
   - クォーター別に自動管理

5. **クォーターの切り替え**

   - 「Next」ボタンで次のクォーターへ
   - 「Prev」ボタンで前のクォーターに戻る
   - 「+OT」ボタンでオーバータイムを追加

6. **ブザー音**
   - タイマーが 0 になると自動再生
   - 右下のフローティングボタンで手動再生も可能

### オプション設定

- **自動ロックを無効にする**: 有効にすると、試合中に画面が暗くなったりロックされなくなります
- **全体をリセット**: すべての設定とカウンタを初期状態に戻します

## 技術仕様

### アーキテクチャ

- **フレームワーク**: SwiftUI
- **状態管理**: ObservableObject + @Published
- **音声再生**: AVFoundation + AudioToolbox (SystemSound)
- **タイマー**: Combine Framework（Timer.publish）

### パフォーマンス

- **ゲームクロック**: 20Hz 更新（0.05 秒間隔）
- **ショットクロック**: 50Hz 更新（0.02 秒間隔）で滑らかな 0.1 秒表示
- **音声レイテンシ**: SystemSound による超低レイテンシ再生

### 主要コンポーネント

- `Clock`: ゲームクロックのロジック管理
- `ShotClock`: ショットクロックのロジック管理
- `Sounder`: 低レイテンシブザー音再生
- `ContentView`: メイン UI とゲーム状態管理

## ライセンス

このプロジェクトは [Creative Commons Attribution-NonCommercial 4.0 International License (CC BY-NC 4.0)](LICENSE) のもとで公開されています。

### 許可されること

- ✅ 個人的な使用
- ✅ 学習・研究目的での使用
- ✅ 改変・派生作品の作成
- ✅ 非営利目的での配布

### 禁止されること

- ❌ 商用利用（営利目的での使用）

商用利用をご希望の場合は、別途ご相談ください。

## 作者

Created by 堀口剛弘 (horisan) - 2025
